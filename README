This automation is used to create Openshift Single Node Clusters (SNO) a KVM host running libvirt.

Prereq:

# Install ansible-core and coreos-installer

sudo dnf install -y ansible-core 

sudo dnf install -y https://rpmfind.net/linux/fedora/linux/updates/40/Everything/x86_64/Packages/c/coreos-installer-0.22.1-3.fc40.x86_64.rpm

#  Generate an SSH key if don't have one

ssh-keygen 


#  Edit the ansible vars and fill the parameters. 
#  You have to configure 'sshrsa' and 'pullsecret'
#  access https://console.redhat.com/openshift/create/local and click "Download pull secret"

vim ansible-vars-kvm.yaml

# Some collections are needed

ansible-galaxy collection install -r requirements.yml

# Run playbook

ansible-playbook -e @ansible-vars-kvm.yaml create-cluster-upi-kvm.yaml
